{"version":3,"sources":["components/ImageGalleryItem/GalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/Searchbar/search.module.css","components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.jsx","components/services/Pixabay.jsx","components/Modal/Modal.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","App.jsx","index.js"],"names":["module","exports","ImageGalleryItem","imgArr","onImageClick","map","elem","className","style","src","webformatURL","alt","tags","onClick","ImageGalleryItem_image","id","PixabayFetch","searchQuery","page","url","axios","get","then","result","data","catch","error","console","log","Modal","toggleModal","largeImg","useEffect","window","addEventListener","handleEsc","removeEventListener","e","code","Overlay","currentTarget","target","largeImageURL","Searchbar","onSubmit","useState","searchValue","setSearchValue","SearchForm","event","preventDefault","trim","toast","type","SearchFormbutton","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","value","onChange","ImageGallery","setImgArr","status","setStatus","showModal","setShowModal","setLargeImg","setPage","searchImg","setSearchImg","hits","length","prev","onPageScroll","scrollTo","top","document","documentElement","offsetHeight","behavior","title","Loader","color","height","width","timeout","find","el","Button","Error_title","App","autoClose","ReactDOM","render","StrictMode","getElementById","querySelector"],"mappings":"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","file":"static/js/main.b902d0ad.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"GalleryItem_ImageGalleryItem__1onKe\",\"ImageGalleryItem_image\":\"GalleryItem_ImageGalleryItem_image__2wLKM\",\"ImageGalleryItem-image\":\"GalleryItem_ImageGalleryItem-image__3YkwZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2kppU\",\"Modal\":\"Modal_Modal__3Bmyu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1f-bl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"search_Searchbar__1tMe-\",\"SearchForm\":\"search_SearchForm__1pwKq\",\"SearchFormbutton\":\"search_SearchFormbutton__33E5X\",\"SearchForm_button_label\":\"search_SearchForm_button_label__3j6-i\",\"SearchForm_input\":\"search_SearchForm_input__1Vvdf\",\"SearchForm-input\":\"search_SearchForm-input__2vvnJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__gu5Cy\",\"title\":\"ImageGallery_title__5dr17\",\"Loader\":\"ImageGallery_Loader__2RJxS\",\"Error_title\":\"ImageGallery_Error_title__1GbCn\",\"Button\":\"ImageGallery_Button__2ZMaQ\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from '../ImageGalleryItem/GalleryItem.module.css';\r\n\r\n\r\nexport default function ImageGalleryItem({imgArr, onImageClick}) {\r\n    return imgArr.map((elem) => (\r\n            <li className={style.ImageGalleryItem} key={elem.id}>\r\n                <img\r\n                    src={elem.webformatURL}\r\n                    alt={elem.tags}\r\n                    onClick={onImageClick}\r\n                    className={style.ImageGalleryItem_image} />\r\n            </li>\r\n        ));\r\n}\r\n\r\n\r\nImageGalleryItem.propTypes = {\r\n    imgArr: PropTypes.array,\r\n    onImageClick: PropTypes.func,\r\n}\r\n","import axios from 'axios';\r\n\r\nexport default function PixabayFetch(searchQuery, page) {\r\n    const BASE_URL = `https://pixabay.com/api/`;\r\n    const API_KEY = `23035596-1a90b7391e585725696c71550`;\r\n    const perPage = 12;\r\n    \r\n    const url = `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&key=${API_KEY}&per_page=${perPage}`;\r\n        return axios\r\n            .get(url)\r\n            .then((result) => result.data  \r\n            )            \r\n            .catch((error) => {\r\n                console.log(error);\r\n                \r\n            });\r\n    }\r\n","import { useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from '../Modal/Modal.module.css';\r\n\r\nexport default function Modal({ toggleModal, largeImg, tags}) {\r\n    useEffect(() => {\r\n        window.addEventListener(\"keydown\", handleEsc);\r\n        return () => window.removeEventListener(\"keydown\", handleEsc);\r\n    });\r\n\r\n    const handleEsc = (e) => {\r\n        if (e.code === \"Escape\") {\r\n            toggleModal();\r\n        }\r\n    };\r\n    const handleClose = (e) => {\r\n        if (e.currentTarget === e.target) {\r\n            toggleModal();\r\n        }\r\n    };\r\n\r\n    return (<div className={style.Overlay} onClick={handleClose}>\r\n            <div className={style.Modal}>\r\n                <img\r\n                    src={largeImg.largeImageURL}\r\n                    alt={tags} />\r\n            </div>\r\n        </div>);\r\n};\r\n\r\n\r\nModal.propTypes = {\r\n    toggleModal: PropTypes.func,\r\n    largeImg: PropTypes.object,\r\n}","import{useState} from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport style from '../Searchbar/search.module.css';\r\n\r\n\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n    const [searchValue, setSearchValue] = useState('');\r\n\r\n    const handleInputChange = event => {\r\n        setSearchValue(event.currentTarget.value);\r\n    };\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n        if (searchValue.trim() === '') {\r\n            toast.error('enter something to start searching');\r\n            return;\r\n        }\r\n        onSubmit(searchValue);\r\n        setSearchValue('');\r\n        }\r\n\r\n    return (\r\n            <header className={style.Searchbar}>\r\n                <form className={style.SearchForm}\r\n                    onSubmit={handleSubmit}>\r\n                    <button type=\"submit\" className={style.SearchFormbutton}>\r\n                        <span className={style.SearchForm_button_label}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={style.SearchForm_input}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={searchValue}\r\n                        onChange={handleInputChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n            \r\n        );\r\n        \r\n};\r\n \r\n\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func,\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import {useState, useEffect } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport PixabayFetch from '../services/Pixabay';\r\nimport Modal from '../Modal/Modal';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport style from '../ImageGallery/ImageGallery.module.css';\r\n\r\n \r\nexport default function ImageGallery() {\r\n    const [imgArr, setImgArr] = useState([]);\r\n    const [status, setStatus] = useState(\"idle\");\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [largeImg, setLargeImg] = useState(null);\r\n    const [page, setPage] = useState(1);\r\n    const [searchImg, setSearchImg] = useState('');\r\n    \r\n    \r\n    useEffect(() => {\r\n        if (searchImg === '') {\r\n            return;\r\n        }\r\n        setStatus('pending');\r\n            \r\n        PixabayFetch(searchImg, page)\r\n        \r\n            .then((data) => {\r\n                if (data.hits.length > 0) {\r\n                    setImgArr(data.hits);\r\n                    setStatus('success');\r\n                } else {\r\n                    setStatus('error');\r\n                }\r\n            }\r\n            )\r\n            .catch((error) => {\r\n                console.log(error);\r\n                setStatus('error');\r\n            });\r\n               \r\n          \r\n    }, [searchImg]);\r\n\r\n    useEffect(() => {\r\n        if (page === 1) {\r\n            return;\r\n        }\r\n        PixabayFetch(searchImg, page)\r\n            .then((data) => {\r\n                if (data.hits.length > 0) {\r\n                    setImgArr((prev) => [...prev, ...data.hits]);\r\n                    setStatus('success');\r\n                    onPageScroll();\r\n                } else {\r\n                    setStatus('error');\r\n                }\r\n            }).catch((error) => {\r\n                setStatus('error');\r\n            });\r\n        \r\n    },[page]);\r\n          \r\n    const onPageScroll=()=>{\r\n    window.scrollTo({\r\n      top: document.documentElement.offsetHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n    };\r\n\r\n    const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n    };\r\n    \r\n     const onImageClick = (e) => {\r\n    e.preventDefault();\r\n    let src = e.target.src;\r\n    setLargeImg(imgArr.find((el) => el.webformatURL === src),\r\n    );\r\n    toggleModal();\r\n    };\r\n    return <>\r\n        <Searchbar onSubmit={(data) => { setSearchImg(data); setPage(1); }} />\r\n        {(status === \"idle\") && <h2 className={style.title}>Please, start typing your query!</h2>\r\n        }\r\n        {(status === \"pending\")&&<Loader\r\n                    className={style.Loader}\r\n                    type=\"Bars\"\r\n                    color=\"#00BFFF\"\r\n                    height={80}\r\n                    width={80}\r\n                    timeout={9000} \r\n               />        \r\n        }\r\n\r\n        {(status === \"success\")&&\r\n                <>\r\n                    <ul className={style.ImageGallery}>\r\n                        <ImageGalleryItem\r\n                            imgArr={imgArr}\r\n                            onImageClick={onImageClick}\r\n                        />\r\n                    </ul>\r\n                   <button\r\n            type=\"button\"\r\n            onClick={() => setPage((prev) => prev + 1)}\r\n            className={style.Button}>\r\n            Load more\r\n          </button>\r\n                    {showModal && (\r\n                        <Modal\r\n                            toggleModal={toggleModal}\r\n                            largeImg={largeImg}></Modal>\r\n                    )}\r\n                </>\r\n        \r\n    }\r\n{(status === \"error\") &&<h2 className={style.Error_title}>Oh no, there are nothing to show you!</h2>\r\n    }\r\n    </>\r\n}","import { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport style from './App.module.css';\n\n\nexport default function App(searchValue) {\n   \n    return (\n          \n          <div className={style.App}>\n            <ImageGallery\n              searchValue={searchValue}\n               \n            />\n            <ToastContainer autoClose={3000}\n          \n            />\n          </div>\n        );\n};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n\n"],"sourceRoot":""}