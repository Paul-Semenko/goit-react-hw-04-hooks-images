(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"GalleryItem_ImageGalleryItem__1onKe",ImageGalleryItem_image:"GalleryItem_ImageGalleryItem_image__2wLKM","ImageGalleryItem-image":"GalleryItem_ImageGalleryItem-image__3YkwZ"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2kppU",Modal:"Modal_Modal__3Bmyu"}},27:function(e,t,a){e.exports={App:"App_App__1f-bl"}},5:function(e,t,a){e.exports={Searchbar:"search_Searchbar__1tMe-",SearchForm:"search_SearchForm__1pwKq",SearchFormbutton:"search_SearchFormbutton__33E5X",SearchForm_button_label:"search_SearchForm_button_label__3j6-i",SearchForm_input:"search_SearchForm_input__1Vvdf","SearchForm-input":"search_SearchForm-input__2vvnJ"}},6:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__gu5Cy",title:"ImageGallery_title__5dr17",Loader:"ImageGallery_Loader__2RJxS",Error_title:"ImageGallery_Error_title__1GbCn",Button:"ImageGallery_Button__2ZMaQ"}},72:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(7),o=a.n(n),s=a(12),l=(a(32),a(16)),i=a(4),u=a(25),m=a.n(u),h=a(14),b=a.n(h),j=a(1);function g(e){var t=e.imgArr,a=e.onImageClick;return t.map((function(e){return Object(j.jsx)("li",{className:b.a.ImageGalleryItem,children:Object(j.jsx)("img",{src:e.webformatURL,alt:e.tags,onClick:a,className:b.a.ImageGalleryItem_image})},e.id)}))}var _=a(26),d=a.n(_);function f(e,t){var a="".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(e,"&page=").concat(t,"&key=").concat("23035596-1a90b7391e585725696c71550","&per_page=").concat(12);return d.a.get(a).then((function(e){return e.data})).catch((function(e){console.log(e)}))}var p=a(15),O=a.n(p);function y(e){var t=e.toggleModal,a=e.largeImg,c=e.tags;Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&t()};return Object(j.jsx)("div",{className:O.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(j.jsx)("div",{className:O.a.Modal,children:Object(j.jsx)("img",{src:a.largeImageURL,alt:c})})})}var x=a(5),I=a.n(x);function S(e){var t=e.onSubmit,a=Object(r.useState)(""),c=Object(i.a)(a,2),n=c[0],o=c[1];return Object(j.jsx)("header",{className:I.a.Searchbar,children:Object(j.jsxs)("form",{className:I.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==n.trim()?(t(n),o("")):s.b.error("enter something to start searching")},children:[Object(j.jsx)("button",{type:"submit",className:I.a.SearchFormbutton,children:Object(j.jsx)("span",{className:I.a.SearchForm_button_label,children:"Search"})}),Object(j.jsx)("input",{className:I.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:n,onChange:function(e){o(e.currentTarget.value)}})]})})}var v=a(6),F=a.n(v);function G(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)("idle"),o=Object(i.a)(n,2),s=o[0],u=o[1],h=Object(r.useState)(!1),b=Object(i.a)(h,2),_=b[0],d=b[1],p=Object(r.useState)(null),O=Object(i.a)(p,2),x=O[0],I=O[1],v=Object(r.useState)(1),G=Object(i.a)(v,2),w=G[0],N=G[1],k=Object(r.useState)(""),E=Object(i.a)(k,2),M=E[0],C=E[1];Object(r.useEffect)((function(){""!==M&&(u("pending"),f(M,w).then((function(e){e.hits.length>0?(c(e.hits),u("success")):u("error")})).catch((function(e){console.log(e),u("error")})))}),[M]),Object(r.useEffect)((function(){1!==w&&f(M,w).then((function(e){e.hits.length>0?(c((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e.hits))})),u("success"),L()):u("error")})).catch((function(e){u("error")}))}),[w]);var L=function(){window.scrollTo({top:document.documentElement.offsetHeight,behavior:"smooth"})},B=function(){d(!_)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(S,{onSubmit:function(e){C(e),N(1)}}),"idle"===s&&Object(j.jsx)("h2",{className:F.a.title,children:"Please, start typing your query!"}),"pending"===s&&Object(j.jsx)(m.a,{className:F.a.Loader,type:"Bars",color:"#00BFFF",height:80,width:80,timeout:9e3}),"success"===s&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("ul",{className:F.a.ImageGallery,children:Object(j.jsx)(g,{imgArr:a,onImageClick:function(e){e.preventDefault();var t=e.target.src;I(a.find((function(e){return e.webformatURL===t}))),B()}})}),Object(j.jsx)("button",{type:"button",onClick:function(){return N((function(e){return e+1}))},className:F.a.Button,children:"Load more"}),_&&Object(j.jsx)(y,{toggleModal:B,largeImg:x})]}),"error"===s&&Object(j.jsx)("h2",{className:F.a.Error_title,children:"Oh no, there are nothing to show you!"})]})}var w=a(27),N=a.n(w);function k(e){return Object(j.jsxs)("div",{className:N.a.App,children:[Object(j.jsx)(G,{searchValue:e}),Object(j.jsx)(s.a,{autoClose:3e3})]})}o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(k,{})}),document.getElementById("root")),o.a.render(Object(j.jsx)(k,{}),document.querySelector("#root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.b902d0ad.chunk.js.map